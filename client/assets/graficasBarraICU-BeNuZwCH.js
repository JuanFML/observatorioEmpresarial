import{l as o,r as _}from"./chunk-GNGMS2XR-CXDedMy8.js";import{a as lt,e as ct,g as ht,M as R,_ as h,N as dt,s as ut,j as bt}from"./Portal-DAHUK4v-.js";import{f as mt,g as pt,k as it,_ as $,v as At,w as gt,O as xt,$ as ot,a0 as wt,H as yt,a1 as ft,x as Ct,y as Pt,m as kt,q as St,z as It,B as $t,a2 as vt,K as Bt,L as jt,M as Mt,N as Lt,P as Rt,Q as Ot,R as _t,S as Dt,T as Et,U as Tt,V as Ht,W as Xt,X as Gt,Y as Ut,Z as Wt}from"./ChartsWrapper-Clbu4njz.js";import{c as Yt}from"./constants-CLcCBd1V.js";pt("bar");const Ft=mt("bar");function Nt(){return Ft()}function zt(t,i){const a=$(t.x,i.x),e=$(t.y,i.y),n=$(t.width,i.width),s=$(t.height,i.height);return r=>({x:a(r),y:e(r),width:n(r),height:s(r)})}function Kt(t){const i={x:t.layout==="vertical"?t.x:t.xOrigin,y:t.layout==="vertical"?t.yOrigin:t.y,width:t.layout==="vertical"?t.width:0,height:t.layout==="vertical"?0:t.height};return it({x:t.x,y:t.y,width:t.width,height:t.height},{createInterpolator:zt,applyProps(a,e){a.setAttribute("x",e.x.toString()),a.setAttribute("y",e.y.toString()),a.setAttribute("width",e.width.toString()),a.setAttribute("height",e.height.toString())},transformProps:a=>a,initialProps:i,skip:t.skipAnimation,ref:t.ref})}function Zt(t,i){const a=$(t.x,i.x),e=$(t.y,i.y),n=$(t.width,i.width),s=$(t.height,i.height);return r=>({x:a(r),y:e(r),width:n(r),height:s(r)})}function Vt(t){const i={x:t.layout==="vertical"?t.x+t.width/2:t.xOrigin,y:t.layout==="vertical"?t.yOrigin:t.y+t.height/2,width:t.width,height:t.height},a={x:t.x+t.width/2,y:t.y+t.height/2,width:t.width,height:t.height};return it(a,{createInterpolator:Zt,transformProps:e=>e,applyProps(e,n){e.setAttribute("x",n.x.toString()),e.setAttribute("y",n.y.toString()),e.setAttribute("width",n.width.toString()),e.setAttribute("height",n.height.toString())},initialProps:i,skip:t.skipAnimation,ref:t.ref})}function qt(t){return ht("MuiBarElement",t)}const Qt=lt("MuiBarElement",["root","highlighted","faded","series"]),Jt=t=>{const{classes:i,id:a,isHighlighted:e,isFaded:n}=t,s={root:["root",`series-${a}`,e&&"highlighted",n&&"faded"]};return ct(s,qt,i)},ti=["ownerState","skipAnimation","id","dataIndex","xOrigin","yOrigin"];function ii(t){const{ownerState:i}=t,a=R(t,ti),e=Kt(t);return o.jsx("rect",h({},a,{filter:i.isHighlighted?"brightness(120%)":void 0,opacity:i.isFaded?.3:1},e))}const ei=["id","dataIndex","classes","color","slots","slotProps","style","onClick","skipAnimation","layout","x","xOrigin","y","yOrigin","width","height"];function ai(t){const{id:i,dataIndex:a,classes:e,color:n,slots:s,slotProps:r,style:l,onClick:x,skipAnimation:m,layout:g,x:c,xOrigin:b,y,yOrigin:d,width:P,height:k}=t,A=R(t,ei),w=At({type:"bar",seriesId:i,dataIndex:a}),{isFaded:f,isHighlighted:v}=gt({seriesId:i,dataIndex:a}),B={id:i,dataIndex:a,classes:e,color:n,isFaded:f,isHighlighted:v},j=Jt(B),M=(s==null?void 0:s.bar)??ii,S=dt({elementType:M,externalSlotProps:r==null?void 0:r.bar,externalForwardedProps:A,additionalProps:h({},w,{id:i,dataIndex:a,color:n,x:c,xOrigin:b,y,yOrigin:d,width:P,height:k,style:l,onClick:x,cursor:x?"pointer":"unset",stroke:"none",fill:n,skipAnimation:m,layout:g}),className:j.root,ownerState:B});return o.jsx(M,h({},S))}const z=(t,{hasNegative:i,hasPositive:a,borderRadius:e,layout:n})=>{if(!e)return 0;const s=n==="vertical";return t==="top-left"&&(s&&a||!s&&i)||t==="top-right"&&(s&&a||!s&&a)||t==="bottom-right"&&(s&&i||!s&&a)||t==="bottom-left"&&(s&&i||!s&&i)?e:0},si=["maskId","x","y","width","height","skipAnimation"];function ni(t,i,a){const e=h({},a,{borderRadius:i}),n=Math.min(t,z("top-left",e)),s=Math.min(t,z("top-right",e)),r=Math.min(t,z("bottom-right",e)),l=Math.min(t,z("bottom-left",e));return`inset(0px round ${n}px ${s}px ${r}px ${l}px)`}function ri(t,i){const a=$(t.x,i.x),e=$(t.y,i.y),n=$(t.width,i.width),s=$(t.height,i.height),r=$(t.borderRadius,i.borderRadius);return l=>({x:a(l),y:e(l),width:n(l),height:s(l),borderRadius:r(l)})}function oi(t){const i={x:t.x,y:t.y+(t.ownerState.layout==="vertical"?t.height:0),width:t.ownerState.layout==="vertical"?t.width:0,height:t.ownerState.layout==="vertical"?0:t.height,borderRadius:t.borderRadius};return it({x:t.x,y:t.y,width:t.width,height:t.height,borderRadius:t.borderRadius},{createInterpolator:ri,transformProps:a=>({x:a.x,y:a.y,width:a.width,height:a.height,style:{clipPath:ni(t.ownerState.layout==="vertical"?a.height:a.width,a.borderRadius,t.ownerState)}}),applyProps(a,e){a.setAttribute("x",e.x.toString()),a.setAttribute("y",e.y.toString()),a.setAttribute("width",e.width.toString()),a.setAttribute("height",e.height.toString()),a.style.clipPath=e.style.clipPath},initialProps:i,skip:t.skipAnimation,ref:t.ref})}function li(t){const i=oi(h({},t,{borderRadius:t.ownerState.borderRadius??0}));return o.jsx("rect",h({},i))}function ci(t){const{maskId:i,x:a,y:e,width:n,height:s,skipAnimation:r}=t,l=R(t,si);return!t.borderRadius||t.borderRadius<=0?null:o.jsx("clipPath",{id:i,children:o.jsx(li,{ownerState:l,x:a,y:e,width:n,height:s,skipAnimation:r})})}function hi(t){return ht("MuiBarLabel",t)}const J=lt("MuiBarLabel",["root","highlighted","faded","animate"]),di=t=>{const{classes:i,seriesId:a,isFaded:e,isHighlighted:n,skipAnimation:s}=t,r={root:["root",`series-${a}`,n&&"highlighted",e&&"faded",!s&&"animate"]};return ct(r,hi,i)},ui=t=>{const{barLabel:i,value:a,dataIndex:e,seriesId:n,height:s,width:r}=t;return i==="value"?a?a==null?void 0:a.toString():null:i({seriesId:n,dataIndex:e,value:a},{bar:{height:s,width:r}})},gi=["seriesId","dataIndex","color","isFaded","isHighlighted","classes","skipAnimation","layout","xOrigin","yOrigin"],xi=ut("text",{name:"MuiBarLabel",slot:"Root",overridesResolver:(t,i)=>[{[`&.${J.faded}`]:i.faded},{[`&.${J.highlighted}`]:i.highlighted},i.root]})(({theme:t})=>{var i,a,e,n;return h({},(i=t==null?void 0:t.typography)==null?void 0:i.body2,{stroke:"none",fill:(n=(e=(a=t.vars||t)==null?void 0:a.palette)==null?void 0:e.text)==null?void 0:n.primary,transition:"opacity 0.2s ease-in, fill 0.2s ease-in",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none",opacity:1,[`&.${J.faded}`]:{opacity:.3}})});function yi(t){const i=xt({props:t,name:"MuiBarLabel"}),a=R(i,gi),e=Vt(i);return o.jsx(xi,h({},a,e))}const fi=["seriesId","classes","color","dataIndex","barLabel","slots","slotProps","xOrigin","yOrigin","x","y","width","height","value","skipAnimation","layout"],bi=["ownerState"];function mi(t){const{seriesId:i,classes:a,color:e,dataIndex:n,barLabel:s,slots:r,slotProps:l,xOrigin:x,yOrigin:m,x:g,y:c,width:b,height:y,value:d,skipAnimation:P,layout:k}=t,A=R(t,fi),{isFaded:w,isHighlighted:f}=gt({seriesId:i,dataIndex:n}),v={seriesId:i,classes:a,color:e,isFaded:w,isHighlighted:f,dataIndex:n,skipAnimation:P,layout:k},B=di(v),j=(r==null?void 0:r.barLabel)??yi,M=dt({elementType:j,externalSlotProps:l==null?void 0:l.barLabel,additionalProps:h({},A,{xOrigin:x,yOrigin:m,x:g,y:c,width:b,height:y,className:B.root}),ownerState:v}),{ownerState:S}=M,D=R(M,bi);if(!s)return null;const L=ui({barLabel:s,value:d,dataIndex:n,seriesId:i,height:y,width:b});return L?o.jsx(j,h({},D,S,{children:L})):null}const pi=["bars","skipAnimation"];function Ai(t){const{bars:i,skipAnimation:a}=t,e=R(t,pi);return o.jsx(_.Fragment,{children:i.map(({xOrigin:n,yOrigin:s,x:r,y:l,seriesId:x,dataIndex:m,color:g,value:c,width:b,height:y,layout:d})=>o.jsx(mi,h({seriesId:x,dataIndex:m,value:c,color:g,xOrigin:n,yOrigin:s,x:r,y:l,width:b,height:y,skipAnimation:a??!1,layout:d??"vertical"},e),`${x}-${m}`))})}const tt=(t,i)=>{const a=`${t}-axis`,e=`${t}Axis`;return i===(t==="x"?yt:ft)?`The first \`${e}\``:`The ${a} with id "${i}"`};function wi(t,i,a,e,n,s,r){const l=n[e],x=r[s],m=t?l:x,g=t?x:l,c=t?e:s,b=t?s:e,y=t?"x":"y",d=t?"y":"x";if(!ot(m))throw new Error(`MUI X Charts: ${tt(y,c)} should be of type "band" to display the bar series of id "${i}".`);if(m.data===void 0)throw new Error(`MUI X Charts: ${tt(y,c)} should have data property.`);if(ot(g)||wt(g))throw new Error(`MUI X Charts: ${tt(d,b)} should be a continuous type to display the bar series of id "${i}".`)}const Ci=["skipAnimation","onItemClick","borderRadius","barLabel"];function Pi({bandWidth:t,numberOfGroups:i,gapRatio:a}){if(a===0)return{barWidth:t/i,offset:0};const e=t/(i+(i-1)*a),n=a*e;return{barWidth:e,offset:n}}const ki=()=>{const t=Nt()??{series:{},stackingGroups:[]},i=kt(),a=St(),{series:e,stackingGroups:n}=t,{xAxis:s,xAxisIds:r}=It(),{yAxis:l,yAxisIds:x}=$t(),m=r[0],g=x[0],c={};return{completedData:n.flatMap(({ids:y},d)=>{const P=i.left,k=i.left+i.width,A=i.top,w=i.top+i.height;return y.flatMap(f=>{const v=e[f].xAxisId??m,B=e[f].yAxisId??g,j=s[v],M=l[B],S=e[f].layout==="vertical";wi(S,f,e[f],v,s,B,l);const D=S?j:M,L=j.scale,C=M.scale,K=vt(e[f],s[v],l[B]),Z=D.scale.bandwidth(),{barWidth:H,offset:G}=Pi({bandWidth:Z,numberOfGroups:n.length,gapRatio:D.barGapRatio}),U=d*(H+G),{stackedData:W,data:Y,layout:V}=e[f];return D.data.map((E,O)=>{if(Y[O]==null)return null;const F=W[O].map(X=>S?C(X):L(X)),T=Math.round(Math.min(...F)),N=Math.round(Math.max(...F)),q=e[f].stack,u={seriesId:f,dataIndex:O,layout:V,x:S?L(E)+U:T,y:S?T:C(E)+U,xOrigin:L(0)??0,yOrigin:C(0)??0,height:S?N-T:H,width:S?H:N-T,color:K(O),value:Y[O],maskId:`${a}_${q||f}_${d}_${O}`};if(u.x>k||u.x+u.width<P||u.y>w||u.y+u.height<A)return null;c[u.maskId]||(c[u.maskId]={id:u.maskId,width:0,height:0,hasNegative:!1,hasPositive:!1,layout:u.layout,xOrigin:L(0),yOrigin:C(0),x:0,y:0});const p=c[u.maskId];return p.width=u.layout==="vertical"?u.width:p.width+u.width,p.height=u.layout==="vertical"?p.height+u.height:u.height,p.x=Math.min(p.x===0?1/0:p.x,u.x),p.y=Math.min(p.y===0?1/0:p.y,u.y),p.hasNegative=p.hasNegative||(u.value??0)<0,p.hasPositive=p.hasPositive||(u.value??0)>0,u}).filter(E=>E!==null)})}),masksData:Object.values(c)}},Si=ut("g",{name:"MuiBarPlot",slot:"Root"})({[`& .${Qt.root}`]:{transition:"opacity 0.2s ease-in, fill 0.2s ease-in"}});function Ii(t){const{completedData:i,masksData:a}=ki(),{skipAnimation:e,onItemClick:n,borderRadius:s,barLabel:r}=t,l=R(t,Ci),x=Ct(),m=Pt(x||e),g=!s||s<=0;return o.jsxs(Si,{children:[!g&&a.map(({id:c,x:b,y,width:d,height:P,hasPositive:k,hasNegative:A,layout:w})=>o.jsx(ci,{maskId:c,borderRadius:s,hasNegative:A,hasPositive:k,layout:w,x:b,y,width:d,height:P,skipAnimation:m??!1},c)),i.map(({seriesId:c,dataIndex:b,color:y,maskId:d,layout:P,x:k,xOrigin:A,y:w,yOrigin:f,width:v,height:B})=>{const j=o.jsx(ai,h({id:c,dataIndex:b,color:y,skipAnimation:m??!1,layout:P??"vertical",x:k,xOrigin:A,y:w,yOrigin:f,width:v,height:B},l,{onClick:n&&(M=>{n(M,{type:"bar",seriesId:c,dataIndex:b})})}),`${c}-${b}`);return g?j:o.jsx("g",{clipPath:`url(#${d})`,children:j},`${c}-${b}`)}),r&&o.jsx(Ai,h({bars:i,skipAnimation:m,barLabel:r},l))]})}const $i=[Bt,jt,Mt,Lt],vi=["xAxis","yAxis","series","width","height","margin","colors","dataset","sx","axisHighlight","grid","children","slots","slotProps","skipAnimation","loading","layout","onItemClick","highlightedItem","onHighlightChange","borderRadius","barLabel","className","hideLegend"],Bi=t=>{var X,at,st,nt,rt;const{xAxis:i,yAxis:a,series:e,width:n,height:s,margin:r,colors:l,dataset:x,sx:m,axisHighlight:g,grid:c,children:b,slots:y,slotProps:d,skipAnimation:P,loading:k,layout:A,onItemClick:w,highlightedItem:f,onHighlightChange:v,borderRadius:B,barLabel:j,className:M}=t,S=R(t,vi),L=`${bt()}-clip-path`,C=A==="horizontal"||A===void 0&&e.some(I=>I.layout==="horizontal"),K=_.useMemo(()=>[{id:yt,scaleType:"band",data:Array.from({length:Math.max(...e.map(I=>(I.data??x??[]).length))},(I,Q)=>Q)}],[x,e]),Z=_.useMemo(()=>[{id:ft,scaleType:"band",data:Array.from({length:Math.max(...e.map(I=>(I.data??x??[]).length))},(I,Q)=>Q)}],[x,e]),H=_.useMemo(()=>e.map(I=>h({type:"bar"},I,{layout:C?"horizontal":"vertical"})),[C,e]),G=C?void 0:K,U=_.useMemo(()=>i?C?i:i.map(I=>h({scaleType:"band"},I)):G,[G,C,i]),W=C?Z:void 0,Y=_.useMemo(()=>a?C?a.map(I=>h({scaleType:"band"},I)):a:W,[W,C,a]),V=h({},S,{series:H,width:n,height:s,margin:r,colors:l,dataset:x,xAxis:U,yAxis:Y,highlightedItem:f,onHighlightChange:v,disableAxisListener:((X=d==null?void 0:d.tooltip)==null?void 0:X.trigger)!=="axis"&&(g==null?void 0:g.x)==="none"&&(g==null?void 0:g.y)==="none",className:M,skipAnimation:P,plugins:$i}),E={onItemClick:w,slots:y,slotProps:d,borderRadius:B,barLabel:j},O={vertical:c==null?void 0:c.vertical,horizontal:c==null?void 0:c.horizontal},et={clipPath:`url(#${L})`},F={id:L},T={slots:y,slotProps:d,loading:k},N={slots:y,slotProps:d},q=h({},C?{y:"band"}:{x:"band"},g),u={slots:y,slotProps:d};return{chartsWrapperProps:{sx:m,legendPosition:(st=(at=t.slotProps)==null?void 0:at.legend)==null?void 0:st.position,legendDirection:(rt=(nt=t.slotProps)==null?void 0:nt.legend)==null?void 0:rt.direction},chartContainerProps:V,barPlotProps:E,gridProps:O,clipPathProps:F,clipPathGroupProps:et,overlayProps:T,chartsAxisProps:N,axisHighlightProps:q,legendProps:u,children:b}},ji=_.forwardRef(function(i,a){var w,f;const e=xt({props:i,name:"MuiBarChart"}),{chartsWrapperProps:n,chartContainerProps:s,barPlotProps:r,gridProps:l,clipPathProps:x,clipPathGroupProps:m,overlayProps:g,chartsAxisProps:c,axisHighlightProps:b,legendProps:y,children:d}=Bi(e),{chartDataProviderProps:P,chartsSurfaceProps:k}=Rt(s,a),A=((w=e.slots)==null?void 0:w.tooltip)??Ot;return o.jsx(_t,h({},P,{children:o.jsxs(Dt,h({},n,{children:[!e.hideLegend&&o.jsx(Et,h({},y)),o.jsxs(Tt,h({},k,{children:[o.jsx(Ht,h({},l)),o.jsxs("g",h({},m,{children:[o.jsx(Ii,h({},r)),o.jsx(Xt,h({},g)),o.jsx(Gt,h({},b))]})),o.jsx(Ut,h({},c)),!e.loading&&o.jsx(A,h({},(f=e.slotProps)==null?void 0:f.tooltip)),o.jsx(Wt,h({},x)),d]}))]}))}))}),Mi=t=>{const{xData:i,dataGrafica:a,color:e}=t;return o.jsx("div",{children:o.jsx(ji,{xAxis:[{data:i}],series:[{data:a,color:e}],height:500})})};function Di(t){const{ciudades:i,titulo:a,indicadoresData:e}=t;let n=[];for(let s=0;s<e[0].length;s++){const r=e.map(l=>l[s]).flat();n=[...n,r]}return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 p-5 gap-7",children:[o.jsxs("div",{className:"xl:col-span-3 text-2xl font-semibold ",children:["Indicadores en temas ",a]}),n.map((s,r)=>o.jsxs("div",{children:[o.jsx("div",{className:"pb-4",children:s[0]}),o.jsx(Mi,{xData:i,dataGrafica:s.slice(1),color:Yt[r]})]},r))]})})}export{Di as G};
